{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% load mathfilters %}
{% load crispy_forms_tags %}
{% load has_group %} 

{% load bootstrap4 %}
{% bootstrap_css %}
{% bootstrap_javascript jquery='full' %}

{% block aside %}
  {% include "entretien/aside.html" %}        
{% endblock aside %}     


{% block content %}    
<section class="content-header">
  <h1>Ajout d'un entretien</h1>
  <ol class="breadcrumb">
    <a href="{% url 'entretien:accueil' %}"><span class="btn btn-xs btn-primary">Retour</span></a>
  </ol>
</section>

<!-- Main content -->
<section class="content">
  <script type="text/javascript" src="{% static 'admin/js/vendor/jquery/jquery.js' %}"></script>
  {{ form.media }}

 <form method="post" action="{% url 'entretien:entretien_creer' %}" enctype="multipart/form-data"> {% csrf_token %}    
   <div class="row">   
    <div class="col-md-6">
      <div class="box box-primary">
        <div class="box-header"></div>
        <div class="box-body">
          <div class="form-row">
            <div class="form-group col-md-6 mb-0">
              {{ form.vehicule|as_crispy_field }}
            </div>
            <div class="form-group col-md-6 mb-0">
              {{ form.type_entretien|as_crispy_field }}
            </div>
            <div class="form-group col-md-6 mb-0">
              {{ form.date_entretien_debut|as_crispy_field }}
            </div>
            <div class="form-group col-md-6 mb-0">
              {{ form.date_entretien_fin|as_crispy_field }}
            </div>

            <div class="form-group col-md-6 mb-0">
              {{ form.nature_prochain_entretien|as_crispy_field }}
            </div>

            <div class="form-group col-md-6 mb-0">
              {{ form.date_entretien_prochain|as_crispy_field }}
            </div>
            <div class="form-group col-md-6 mb-0">
              {{ form.kilometrage|as_crispy_field }}
            </div>
            <div class="form-group col-md-6 mb-0">
              {{ form.kilometrage_prochain_entretien|as_crispy_field }}
            </div>
            <div class="form-group col-md-12 mb-0">
              {{ form.montant|as_crispy_field }}
            </div>            
          </div>
        </div>    
      </div>
     </div>     

    <div class="col-md-6">
      <div class="box box-primary">
        <div class="box-header"></div>
        <div class="box-body">
          <div class="form-row">
            <div class="form-group col-md-12 mb-0">
              {{ form.fournisseur|as_crispy_field }}
            </div>
            <div class="form-group col-md-12 mb-0">
              {{ form.observation|as_crispy_field }}
            </div>            
          </div>
        </div>    
      </div>
     </div>     

  </div>
  <button class="btn btn-primary" type="submit" name="submit" value = "enregistrer">Enregistrer</button>
  <a href="{% url 'entretien:accueil' %}"><span class="btn btn-primary pull-right">Annuler</span></a> 
</form>

<!-- POUR LES DATES -->
<script src="{% static 'commande/css/bootstrap.min.css' %}"></script>
<script src="{% static 'commande/js/bootstrap.min.js' %}"></script>
</section>
{% endblock content %}
